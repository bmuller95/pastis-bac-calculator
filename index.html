<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Pastis Cuite Calculator</title>
  <link rel="stylesheet" href="style.css" />
  <!-- Chart.js core -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/hammerjs@2.0.8/hammer.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-zoom@2.2.0/dist/chartjs-plugin-zoom.min.js"></script>
</head>
<body>
  <div class="container">
    <h1>Pastis Cuite over Time (g/L)</h1>

    <form id="inputForm" class="form">
      <label>
        Weight (kg):
        <input type="number" id="weight" value="70" required />
      </label>
      <label>
        r-factor:
        <select id="rFactor">
          <option value="0.68">Male (0.68 L/kg)</option>
          <option value="0.55">Female (0.55 L/kg)</option>
        </select>
      </label>
      <label>
        Hours drinking:
        <input type="number" id="hours" value="16" step="0.5" required />
      </label>
      <label>
        Number of pastis:
        <input type="number" id="drinks" value="20" required />
      </label>
      <label>
        Volume per drink (cl):
        <input type="number" id="vol" value="3" step="0.5" required />
      </label>
      <label>
        Absorption constant k:
        <select id="absRate">
          <option value="4.2">Slow (t₁/₂≈10 min, k=4.2 h⁻¹)</option>
          <option value="6.0" selected>Average (t₁/₂≈7 min, k=6.0 h⁻¹)</option>
          <option value="8.3">Fast (t₁/₂≈5 min, k=8.3 h⁻¹)</option>
        </select>
      </label>
      <label>
        Elimination rate β:
        <select id="elimRate">
          <option value="0.10">Novice (0.10 g/L·h)</option>
          <option value="0.15" selected>Average (0.15 g/L·h)</option>
          <option value="0.20">Battle-hardened (0.20 g/L·h)</option>
        </select>
      </label>

      <button type="submit">Calculate</button>
    </form>

    <div class="chart-container">
      <canvas id="bacChart" tabindex="0"></canvas>
    </div>

    <div class="threshold-legend">
      <div><span class="color-box green"></span>Mild relaxation (0–0.5 g/L)</div>
      <div><span class="color-box yellow"></span>Impaired coordination (0.5–2.0 g/L)</div>
      <div><span class="color-box orange"></span>Intoxication (2.0–3.0 g/L)</div>
      <div><span class="color-box red"></span>Loss of consciousness (3.0–4.0 g/L)</div>
      <div><span class="color-box darkred"></span>Potentially fatal (>4.0 g/L)</div>
    </div>
  </div>

  <script src="dist/main.js"></script>
</body>
</html>
